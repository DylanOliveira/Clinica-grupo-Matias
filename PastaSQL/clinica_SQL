CREATE DATABASE clinica_db;
USE clinica_db;

-- Gestão de usuario/funcionarios
CREATE TABLE usuarios (
id INT AUTO_INCREMENT PRIMARY KEY,
nome VARCHAR(100) NOT NULL,
email VARCHAR(100) NOT NULL UNIQUE,
senha VARCHAR(200) NOT NULL,
tipo ENUM('admin','default') NOT NULL
);


-- Gestão de pacientes/clientes
CREATE TABLE pacientes (
id INT AUTO_INCREMENT PRIMARY KEY,
cpf VARCHAR(15) NOT NULL UNIQUE,
nome VARCHAR(100) NOT NULL,
telefone VARCHAR(20) NOT NULL,
email VARCHAR(150) NOT NULL UNIQUE,
data_nasc DATE,

estado VARCHAR(50) NOT NULL,
cidade VARCHAR(100) NOT NULL,
bairro VARCHAR(100) NOT NULL,
cep VARCHAR(10) NOT NULL,
rua VARCHAR(100) NOT NULL,

-- Caso paciente tenha responsavel
cpf_respon VARCHAR(15),
nome_respon VARCHAR(100),
data_nasc_respon DATE,
email_respon VARCHAR(100),
telefone_respon VARCHAR(20)
);

CREATE TABLE procedimentos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL UNIQUE,
    descricao TEXT NOT NULL,
    valor_plano DECIMAL(10,2) NOT NULL,
    valor_particular DECIMAL(10,2) NOT NULL
);

CREATE TABLE atendimentos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_paciente INT NOT NULL,
    id_usuario INT NOT NULL,
    data_hora DATETIME NOT NULL,
    tipo ENUM('plano','particular') NOT NULL,
    numero_carteira VARCHAR(50),
    valor_total DECIMAL(10,2) NOT NULL,
    FOREIGN KEY (id_paciente) REFERENCES pacientes(id),
    FOREIGN KEY (id_usuario) REFERENCES usuarios(id)
);


-- Exemplo de dados usarios:
INSERT INTO usuarios (nome, email, senha, tipo) VALUES
('Ana Souza', 'ana.souza@email.com', '123456', 'admin'),
('Carlos Oliveira', 'carlos.oliveira@email.com', 'senha123', 'default');

SELECT * FROM usuarios;



